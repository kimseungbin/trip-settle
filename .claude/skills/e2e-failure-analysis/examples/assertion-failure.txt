Example E2E Test Failure: Assertion Error

=== TEST FAILURE ===

Test: Onboarding › should complete onboarding flow
File: tests/e2e/onboarding.spec.ts:25
Browser: chromium
Status: FAILED
Duration: 2150ms

ERROR:
expect(received).toBe(expected)

Expected URL: "/expense-tracker"
Received URL: "/onboarding"

STACK TRACE:
    at expect(page.url()).toBe('/expense-tracker') (tests/e2e/onboarding.spec.ts:25:30)

ARTIFACTS:
  Screenshot: test-results/onboarding-chromium/test-failed-1.png
  Video: test-results/onboarding-chromium/video.webm

=== ANALYSIS ===

Error Type: Assertion Failure
Root Cause: Expected navigation to /expense-tracker but stayed on /onboarding

Common Causes:
1. Navigation logic changed (routing conditions)
2. State update didn't trigger navigation
3. Button click didn't fire navigation
4. Form validation preventing submission
5. Backend error preventing state change
6. Race condition in async navigation

Debugging Steps:
1. Check navigation logic:
   git diff HEAD~1 -- packages/frontend/src/components/Onboarding.svelte
   git diff HEAD~1 -- packages/frontend/src/lib/router.svelte.ts

2. Review screenshot to see UI state:
   open test-results/onboarding-chromium/test-failed-1.png
   (Look for: Is "Continue" button visible? Any error messages?)

3. Watch video to see what happened:
   open test-results/onboarding-chromium/video.webm
   (Observe: Did button click happen? Was there a response?)

4. Check form submission logic:
   - Is form validation passing?
   - Is onboarding state being saved correctly?
   - Are routing conditions met?

5. Review routing configuration:
   - Check router.svelte.ts for /expense-tracker route
   - Verify navigation guard conditions
   - Check if onboarding completion flag is set

6. Run test locally with debug:
   npx playwright test onboarding --project=chromium --debug
   (Step through test to see exact point of failure)

Quick Fix Suggestions:
- If navigation logic changed: Update routing conditions
- If state not updating: Check onboarding completion logic
- If validation failing: Review form validation rules
- If timing issue: Add wait for navigation or state update

Test Code Context:
```typescript
// Test expects navigation after completing onboarding
await page.getByRole('button', { name: 'Continue' }).click()
await expect(page).toHaveURL('/expense-tracker') // ← FAILS HERE
```

Possible Code Issues:
1. Continue button click doesn't trigger navigation
2. Onboarding state not marked as complete
3. Router guard preventing navigation
4. Conditional navigation logic changed
